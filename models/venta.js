import mongoose, { Schema, models } from "mongoose";

const ventaSchema = new Schema({
    id: { type: String, required: true },
    datosempresas_id: { type: String, required: true },
    borradoresdearriendo_id: { type: String, default: "0" },
    borradoresdetraslado_id: { type: String, default: null },
    borradoresdetraslado: { type: String, default: null },
    arriendo: { type: String, default: "no" },
    ventarapida: { type: String, default: "No" },
    codigo: { type: String, required: true },
    vendedor: { type: String },
    usuario: { type: String, default: null },
    ip: { type: String, default: null },
    tipo_doc: { type: String, default: null },
    hora: { type: String, required: true },
    fecha: { type: Date, required: true },
    clientes_id: { type: String, required: true },
    rut: { type: String, required: true },
    nombre: { type: String, required: true },
    email: { type: String },
    telefono: { type: String },
    celular: { type: String, default: null },
    direccion: { type: String, required: true },
    ciudad: { type: String, required: true },
    comunas_id: { type: String, required: true },
    giro: { type: String, required: true },
    detallecot: { type: String, default: null },
    permanente: { type: String, default: null },
    titulo: { type: String, default: null },
    comentario: { type: String, default: null },
    estado: { type: String, required: true },
    valor_neto: { type: Number, required: true },
    valor_exento: { type: Number, default: 0 },
    valor_iva: { type: Number, required: true },
    valor_bruto: { type: Number, required: true },
    valor_total: { type: Number, required: true },
    numdoc: { type: String },
    num_vale: { type: String, default: null },
    documentotributario_id: { type: String, required: true },
    detalleguiadespacho: { type: String, default: "0" },
    sucursaldestino: { type: String },
    estado_guia: { type: String, default: null },
    tipoanterior: { type: String, default: null },
    tasaimp: { type: Number },
    anterior: { type: String, default: null },
    tipo_nota_guia: { type: String, default: null },
    fecha_anterior: { type: Date, default: null },
    raz_ref: { type: String, default: null },
    formapago_id: { type: String, required: true },
    ot: { type: String, default: "No" },
    control_envase: { type: String, default: null },
    motivo: { type: String, default: null },
    otoc: { type: String, default: null },
    otocdate: { type: Date, default: null },
    hes: { type: String, default: null },
    trackid: { type: String },
    aceptado: { type: Boolean, default: true },
    rechazado: { type: Boolean, default: false },
    reparos: { type: Boolean, default: false },
    perdido: { type: String, default: null },
    sucursales_id: { type: String, required: true },
    recibe: { type: String, default: null },
    conductor: { type: String, default: null },
    transportista: { type: String, default: null },
    patente: { type: String, default: null },
    proveedor: { type: String, default: null },
    porcobrar: { type: String, default: "no" },
    activa: { type: String, default: "si" },
    agrupada: { type: String, default: null },
    medio_despacho: { type: String },
    numerotraslado: { type: String, default: "" },
    origen: { type: String, default: null },
    referenciados: { type: String, default: "no" },
    recibido: { type: String, default: null },
    fecha_acuse: { type: Date, default: null },
    estado_dte: { type: String, default: null },
    cant_consultas_sii: { type: Number, default: 0 },
    cant_reenvios_sii: { type: Number, default: null },
    user_delete: { type: String, default: null },
    ejecutivo_id: { type: String, default: null },
    porcentaje_comision: { type: Number, default: null },
    valor_comision: { type: Number, default: null },
    notificaciones: { type: String, default: null },
    encola: { type: String, default: "no" },
    id_comcliusu: { type: String, default: null },
    por_comcliusu: { type: Number, default: null },
    monto_comcliusu: { type: Number, default: null },
    centrodecosto_id: { type: String, default: null },
    deleted_at: { type: Date, default: null },
    created_at: { type: Date, required: true },
    updated_at: { type: Date, required: true }
});

const Venta = models.Venta || mongoose.model("Venta", ventaSchema);
export default Venta;